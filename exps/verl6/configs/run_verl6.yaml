# verl6 一条龙：convert → train → merge（自动用最后一次 ckpt）→ eval
# 用法: uv run python -m hardtry.run config_file=exps/verl6/configs/run_verl6.yaml
# 约定: 本实验所有配置在 configs/，所有脚本在 scripts/。

tasks:
  - type: module
    module: hardtry.utils.convert_messages_to_verl
    config: exps/verl6/configs/convert_messages_to_verl_config.yaml
  - type: command
    command: ["bash", "exps/verl6/scripts/train_local.sh"]
  - type: command
    command: ["bash", "exps/verl6/scripts/merge_verl_fsdp_local.sh"]
  - type: command
    command: ["bash", "exps/verl6/scripts/eval_local.sh"]
